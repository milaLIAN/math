#### 函数

##### 函数的创建和调用

- 为什么需要函数

  - 复用代码
  - 隐藏实现细节
  - 提高可维护性
  - 提高可读性,便于调试

- 函数的创建

  ```
   def 函数名([输入参数])
         函数体
         [return xxx]
  ```

- 函数的参数传递

  - 位置实参

    - 根据形参对应的位置进行实参传递

      ```python
      def cal(a,b)
      cal(10,20)
      ```

  - 关键字实参

    - 根据形参名称进行实参传递

      ```python
      def cal(a,b)
      cal(b=12,a=34)
      # 根据关键字给形参进行赋值

      ```

    - 使用关键字的形式可以不按照顺序传参

- 函数调用

  - 函数定义的参数是形参
  - 函数调用的参数是实参
  - 函数的实参和形参是可不一样
  - 如果传参是可变对象，则函数体的修改会影响到实参的值
  - 如果传参是不可变对象，则函数体的修改不会影响到实参的值

- 函数的返回值

  - 如果函数没有返回值,return 可以省略
  - 函数的返回值,如果是一个,直接返回类型
  - 函数的返回值,如果是多个,返回的结果是元组

- 函数的默认值参数

  - 当一样时候,无需传参,直接默认
  - 当不一样时,替换

    ```python
    def func(a,b=90)
        return a+b

    func(100)
    # 传参直接赋值给a
    func(100,300)
    # 与默认参数不一样，替换
    ```

- 函数的参数个数不确定

  - 个数可变的位置参数
    - 使用\*定义个数可变的位置形参
    - 结果为一个元组
  - 个数可变的关键字形参
    - 使用\*\*定义个数可变的关键字形参
    - 结果为键值对
  - 注意事项

    - 个数可变的位置形参和个数可变的关键字形参只能有一个
    - 在一个函数的定义过程中，既有个数可变的关键字形参，也有个数可变的位置形参，要求个数可变的位置形参，放在个数可变的关键字形参之前

      ```python
      def func(* args,**ags):
      ```

- 函数参数的总结

  - 将序列中的每一个元素都转换成位置实参进行调用，使用\*

    ```python
    lst=[11,22,33]
    func(*lst)
    # 如果不适用*的话，会报错
    # 报错显示只传递了一个参数
    ```

  - 将字典中的每一个键值对都转换为关键字形参，使用\*\*

    ```python
    lst={'a':11,'b':22,'c':33}
    func(**lst)
    # 打印结果是11 22 33
    func(*lst)
    # 打印结果是a b c
    ```

  - 定义函数要求只能进行关键字传递

    ```python
    def func(a,b,*,c,d)
    # c,d只能进行关键字传递
    ```

  - 解决参数传参的顺序问题

    ```python
    def func(a,b,*,c,d,*args)
    ```

- 变量的作用域

  - 程序代码能访问该变量的取余
  - 根据变量的有效范围可分为
    - 局部变量：在函数内定义并使用的变量，只在函数内部有效，局部变量使用 global 声明，这个变量就会成为全局变量
    - 全局变量：函数体外定义的白能量，可作用与函数内外

- 递归

  - 使用递归来计算阶乘

    ```python
    def func(n):
    if n==1:
        return 1
    else:
        return n*func(n-1)

    print(func(6))
    ```

  - 斐波那契序列

    ```python
    def fib(n):
    if n==1:
        return 1
    elif n==2:
        return 1
    else:
        return fib(n-1)+fib(n-2)

    for i in range(1,7):
      print(fib(i),end=' ')
    ```
